<!DOCTYPE html>
  <head>
    <meta charset='UTF-8'>
    <script type="text/javascript" src="scripts/theme.js"></script>
    <script type="text/javascript" src="scripts/controller.js"></script>

    <script type="text/javascript" src="scripts/units/color.js"></script>

    <script type="text/javascript" src="scripts/core/module.js"></script>
    <script type="text/javascript" src="scripts/core/method.js"></script>
    <script type="text/javascript" src="scripts/modules/frame.js"></script>
    <script type="text/javascript" src="scripts/modules/brush.js"></script>
    <script type="text/javascript" src="scripts/modules/line.js"></script>
    <script type="text/javascript" src="scripts/modules/io.js"></script>
    <script type="text/javascript" src="scripts/modules/path.js"></script>
    <script type="text/javascript" src="scripts/modules/filter.js"></script>
    <script type="text/javascript" src="scripts/modules/type.js"></script>

    <script type="text/javascript" src="scripts/core/layer.js"></script>
    <script type="text/javascript" src="scripts/layers/guide.js"></script>

    <script type="text/javascript" src="scripts/core/cursor.js"></script>
    <script type="text/javascript" src="scripts/core/swatch.js"></script>

    <script type="text/javascript" src="scripts/core/docs.js"></script>
    <script type="text/javascript" src="scripts/core/port.js"></script>
    <script type="text/javascript" src="scripts/core/query.js"></script>
    <script type="text/javascript" src="scripts/core/keyboard.js"></script>
  
    <script type="text/javascript" src="scripts/core/commander.js"></script>
    
    <script type="text/javascript" src="scripts/ronin.js"></script>
    
    <link rel="stylesheet" type="text/css" href="links/reset.css"/>
    <link rel="stylesheet" type="text/css" href="links/fonts.css"/>
    <link rel="stylesheet" type="text/css" href="links/main.css"/>
    <title>Ronin</title>
  </head>
  <body>
    <script type="text/javascript">

      const {dialog,app} = require('electron').remote;
      const fs = require('fs');
      
      const app_path = app.getAppPath();

      var ronin = new Ronin();

      ronin.controller = new Controller();

      ronin.controller.add("default","*","About",() => { require('electron').shell.openExternal('https://github.com/hundredrabbits/Dotgrid'); },"CmdOrCtrl+,");
      ronin.controller.add("default","*","Fullscreen",() => { app.toggleFullscreen(); },"CmdOrCtrl+Enter");
      ronin.controller.add("default","*","Hide",() => { app.toggleVisible(); },"CmdOrCtrl+H");
      ronin.controller.add("default","*","Inspect",() => { app.inspect(); },"CmdOrCtrl+.");
      ronin.controller.add("default","*","Reset",() => { dotgrid.reset(); dotgrid.theme.reset(); },"CmdOrCtrl+Backspace");
      ronin.controller.add("default","*","Quit",() => { app.exit(); },"CmdOrCtrl+Q");

      ronin.controller.addRole('default', 'Edit', 'undo')
      ronin.controller.addRole('default', 'Edit', 'redo')
      ronin.controller.addRole('default', 'Edit', 'cut')
      ronin.controller.addRole('default', 'Edit', 'copy')
      ronin.controller.addRole('default', 'Edit', 'paste')
      ronin.controller.addRole('default', 'Edit', 'delete')
      ronin.controller.addRole('default', 'Edit', 'selectall')

      ronin.controller.commit();

      ronin.install(document.body);

      window.addEventListener('load', () => { ronin.start(); })
    </script>
  </body>
</html>
